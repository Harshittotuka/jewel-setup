jQuery(document).ready(function(i){"use strict";function o(){i("div.quantity").each(function(){var t=i(this);t.hasClass("buttons_added")||(t.addClass("buttons_added"),t.prepend('<button type="button" class="minus">-</button>'),t.append('<button type="button" class="plus">+</button>'))})}function e(){i(document).off("click",".quantity.buttons_added .plus, .quantity.buttons_added .minus"),i(document).on("click",".quantity.buttons_added .plus, .quantity.buttons_added .minus",function(){var t=i(this),a=t.siblings("input.qty"),n=parseFloat(a.val())||0,o=parseFloat(a.attr("max"))||1/0,e=parseFloat(a.attr("min"))||0,s=parseFloat(a.attr("step"))||1;t.hasClass("plus")&&n+s<=o&&a.val((n+s).toFixed(0)),t.hasClass("minus")&&e<=n-s&&a.val((n-s).toFixed(0)),a.trigger("change")})}i(document).on("change",".woocommerce.widget_shopping_cart input.qty",function(){var t=i(this),a=parseInt(t.val(),10),n=t.closest("li"),t=n.find(".remove_from_cart_button").data("cart_item_key");!t||isNaN(a)||a<1||(n.block({message:null,overlayCSS:{opacity:.6}}),i.ajax({type:"POST",dataType:"json",url:olight_cart_widget_qty_ajax.ajax_url,data:{action:"olight_change_widget_cart_qty",hash:t,quantity:a},success:function(t){var a=n.closest(".widget_shopping_cart_content").find(".woocommerce-mini-cart__total .woocommerce-Price-amount.amount");t.data.subtotal_html&&a.length&&a.replaceWith(t.data.subtotal_html),t.data.product_quantity&&n.find(".cart-item").html(t.data.product_quantity),i(document.body).trigger("wc_fragment_refresh"),o(),e()},complete:function(){n.unblock()}}))}),o(),e()});